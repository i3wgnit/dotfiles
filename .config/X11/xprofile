numlockx

# audio
pulseaudio --start && \
{
    command -v qjackctl >/dev/null 2>&1 && \
    {
        qjackctl &
        command -v cadence >/dev/null 2>&1 && cadence &
        {
            until jack_control status | grep 'started' ; do
                sleep 1
            done
            pactl set-source-mute "$(pactl list short sources | grep 'alsa_input' | cut -f 1)" 1
            pactl set-source-volume "$(pactl list short sources | grep 'alsa_input' | cut -f 1)" 50% 50%
        } &
    } &

    command -v mpd >/dev/null 2>&1 && mpd
} &

# transmission
command -v transmission-daemon >/dev/null 2>&1 && \
{
    transmission-daemon

    if command -v transmission-qt >/dev/null 2>&1; then
        transmission-qt &
    elif command -v transmission-gtk >/dev/null 2>&1; then
        transmission-gtk &
    fi
} &

xbindkeys -f "$XDG_CONFIG_HOME"/xbindkeys/config
# turn auto-repeat off for mute key
xset -r 121

wallpaper.sh

dunst &
dwmblocks &
redshift-gtk &
